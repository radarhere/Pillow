dist: xenial
language: python
cache:
  pip: true
  directories:
    - $HOME/.cache/pre-commit

notifications:
  irc: "chat.freenode.net#pil"

# Run fast lint first to get fast feedback.
# Run slower CPUs next, to give them a headstart and reduce waiting time.
# Then run the remainder.

matrix:
  fast_finish: true
  include:
    - python: "3.8"
      name: "3.8 Xenial"
      services: xvfb

install:
  - |
    .ci/install.sh

script:
- |
  .ci/build.sh
